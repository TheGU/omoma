{% extends "panelsbase.html" %}
{% load i18n %}


{% block submenucontent %}
<form id="transactionsfilter" action="{% url jsontransactions %}" method="POST">
    {% csrf_token %}
    <table>
        <tr>
            <th class="filterintro">{% trans "Filter" %}</th>
            <th>{% trans "Description" %}</th>
            <th>{% trans "Amount" %}</th>
            <th>{% trans "Account" %}</th>
            <th>{% trans "Category" %}</th>
            <th>{% trans "Date" %}</th>
        </tr>
        <tr>
            <td class="filterintro">
                <input type="submit" value="{% trans "Apply" %}"/>
                <input type="reset" value="{% trans "Reset" %}"/>
            </td>
            <td class="filterdescription">
                <input type="text" name="description" class="description" />
            </td>
            <td class="filteramount">
                <input type="text" name="amount" class="amount" />
            </td>
            <td class="filteraccount">
                <select class="account" name="account">
                    <option value="0">----</option>
                    {% for account in accounts %}
                        <option value="{{ account.id }}">{{ account.name }}</option>
                    {% endfor %}
                </select>
            </td>
            <td class="filtercategory">
                <input type="text" name="category" class="category" />
            </td>
            <td class="filterdate">
                <input type="text" name="datestart" id="filterdatestart" />...<input type="text" name="dateend" id="filterdateend" />
            </td>
        </tr>
    </table>
</form>
{% endblock %}

{% block content %}
<div id="transactionsheader">
    <!-- TODO New transaction, action etc... -->
    <form id="newtransaction" action="" method="POST">
        <table>
            <tr>
                <th class="tools">
                </th>
                <th class="description">{% trans "Description" %}</th>
                <th>{% trans "Amount" %}</th>
                <th>{% trans "Category" %}</th>
                <th>{% trans "Date" %}</th>
            </tr>
            <tr id="newtransaction">
                <td class="tools">
                    <span id="newtransaction" class="button">
                        <span class="jquery-icon jquery-icon-4b1c6c-ffffff ui-icon-plusthick"></span>
                    </span>
                </td>
                <td class="description">
                    <span class="description">
                        <input type="text" name="description" />
                    </span>
                </td>
                <td class="amount">
                    <!-- XXX HERE I AM ! -->
                    <span class="amountvalue">
                        <input type="text" name="value" />
                    </span>
                    <span class="amountaccount">
                        <select class="account" name="account">
                            <option value="0">----</option>
                            {% for account in accounts %}
                                <option value="{{ account.id }}">{{ account.name }}</option>
                            {% endfor %}
                        </select>
                    </span>
                </td>
                <td class="category">
                    <span class="category">
                        <input type="text" name="category" class="category" />
                    </span>
                </td>
                <td class="date">
                </td>
            </tr>
        </table>
    </form>
</div>
<!-- TODO Transactions list -->
<div id="transactions">
    <table>
        <tr id="transactionX">
            <td class="tools">
            </td>
            <td class="description">
                <span class="description">Description</span> <span class="originaldescription"> (original description)</span>
            </td>
            <td class="amount">
                <span class="amount">
                    <span class="amountvalue">Value</span>
                    <span class="amountaccount">(Account name)</span>
                </span>
            </td>
            <td class="category">
            </td>
            <td class="date">
            </td>
        </tr>
    </table>
</div>
<script>inittransactionsdisplay();</script>
{% endblock %}
